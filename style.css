/* Base typography and page setup */
:root {
  --container-max-w: 1800px;
  --container-max-h: 720px;
  --gap: 12px;
}

* { box-sizing: border-box; }
html, body { height: 100%; }
body {
  margin: 0;
  font-family: "Times New Roman", Times, serif;
  font-size: 24px;
  line-height: 1.5;
  color: #000;
  background: #323ef3;
  overflow: auto; /* page scrolls in landscape/wide layout */
}

/* Home (first tab) theme overrides */
body.home-theme {
  background: #222; /* dark grey */
  color: #fff;      /* near-white text */
}
body.home-theme a { color: #fff; }
body.home-theme a:visited { color: #fff; }
body.home-theme a:hover,
body.home-theme a:focus { color: #326ff3; } /* fully white when highlighted */

/* Make sidebar tabs behave like links on the homepage */
body.home-theme .sidebar .tab {
  text-decoration: none; /* underline only on hover */
  color: #fff; /* match link color */
}
body.home-theme .sidebar .tab:visited {
  color: #fff; /* match visited link color */
}
body.home-theme .sidebar .tab:hover,
body.home-theme .sidebar .tab:focus {
  color: #326ff3; /* match hover/focus color */
  text-decoration: underline; /* keep underline on hover */
}
/* Keep active tab color consistent with home link color */
body.home-theme .sidebar .tab[aria-current="page"] {
  color: #fff;
}

/* Static noise background layer */
.noise-bg {
  position: fixed;
  top: 0;
  left: 0;
  width: 100vw;
  height: 100vh;
  background: url('images/noise200.png') repeat;
  opacity: 0.1;
  mix-blend-mode: multiply;
  pointer-events: none;
  z-index: -1;
}

/* Global links: black by default, white text on hover */
a { color: #000; }
a:visited { color: #000; }
a:hover, a:focus { color: #fff }

/* Centered app container with sidebar and content */
.app {
  position: static;
  transform: none;
  width: min(92vw, var(--container-max-w));
  height: auto;
  display: grid;
  grid-template-columns: 320px 1fr; /* fixed sidebar width, content fills */
  gap: var(--gap);
  padding-right: 0;
  margin: 6vh auto; /* center horizontally with top breathing room */
}

/* When photography tab is active, dock layout to left in widescreen */
/* (Removed docking in photography mode to keep sidebar position consistent) */

/* Sidebar stays put; entries separated by two new lines worth of space */
.sidebar {
  padding-right: 4px; /* subtle separation */
  /* Keep sidebar pinned in landscape while page scrolls */
  position: sticky;
  top: 6vh;
  align-self: start;
  overflow: visible;
}
.sidebar .tab {
  display: block;
  color: inherit;
  text-decoration: none;
  margin-bottom: 1.2em; /* slightly reduced spacing */
}
.sidebar .tab:hover,
.sidebar .tab:focus {
  color: #fff;      /* highlight text in white on hover */
  text-decoration: none;
}
.sidebar .tab[aria-current="page"] {
  text-decoration: underline;
  color: #353535; /* grey when the respective tab is open */
}

/* Main content scrolls */
.content {
  font-size: 22px; /* slightly smaller main body text */
  overflow: visible; /* share page scroll */
  padding-right: 0;
  max-width: 1200px;
}

/* Bin collage: image with randomly placed links over it */
.bin-collage {
  position: relative;
  display: inline-block;
  max-width: 600px;
}
.bin-collage img {
  display: block;
  width: 100%;
  height: auto;
}
.bin-collage .bin-link {
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%);
  z-index: 1;
  white-space: nowrap;
}

/* Switch layout when viewport is taller than 2:3 (width/height < 2/3) */
@media (max-aspect-ratio: 3/4) {
  body { overflow: auto; }

  .app {
    position: static;
    transform: none;
    width: min(92vw, 720px);
    height: auto;
    display: block; /* stack */
    margin: 6vh auto; /* keep centered horizontally */
  }

  .sidebar {
    /* In stacked layout, sidebar becomes a normal block */
    position: static;
    top: auto;
    align-self: auto;
    overflow: visible; /* scrolls with page */
    margin-bottom: 2em;
  }

  .content {
    overflow: visible; /* share page scroll */
    padding-right: 0;
  }
}

/* Photography grid: three columns with center offset */
.photo-grid {
  display: grid;
  grid-template-columns: repeat(3, max-content); /* columns sized to content for full-size photos */
  column-gap: var(--gap); /* match row gap for equal spacing */
  align-items: start;
}
.photo-col {
  display: flex;
  flex-direction: column;
  gap: var(--gap);
}
.photo-col:nth-child(2) { /* center column offset for brick look */
  margin-top: 300px;
}
.photo-item {
  display: block;
  width: auto; /* keep natural width in widescreen */
  max-width: none;
  height: auto;
}

/* Crop right side in photography panel when content overflows */
.panel[data-key="photography"] {
  overflow-x: hidden;
}

/* Vertical mode: two columns that scale to window */
@media (max-aspect-ratio: 3/4) {
  .photo-grid {
    grid-template-columns: 1fr 1fr; /* exactly two columns */
  }
  .photo-col:nth-child(2) {
    margin-top: 0; /* no middle offset in 2-col layout */
  }
  .photo-col { gap: 12px; }
  .photo-item {
    width: 100%; /* scale to column */
    max-width: 100%;
    height: auto;
  }
}

/* Landscape-only tweaks for photography removed to keep spacing consistent across tabs */
